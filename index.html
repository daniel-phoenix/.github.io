<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üåæ GDSX FARM ULTRA++</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

<style>
:root {
  --gold: #ffd700;
  --neon: #00ffd5;
  --bg-dark: #000;
  --bg-light: #111;
}
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: "Poppins", "Noto Sans Thai", sans-serif;
}
body {
  background: radial-gradient(circle at top, var(--bg-dark) 40%, var(--bg-light) 100%);
  color: #fff;
  text-align: center;
  overflow-x: hidden;
  min-height: 100vh;
}

/* Header Bar */
.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 14px;
  background: linear-gradient(90deg,#111,#1a1a1a,#111);
  border-bottom: 2px solid var(--gold);
}
.topbar-left {
  display: flex;
  align-items: center;
  gap: 10px;
}
.lang-btn {
  background: #111;
  border: 1px solid var(--gold);
  color: var(--gold);
  border-radius: 6px;
  padding: 5px 10px;
  font-weight: 600;
  cursor: pointer;
}
.connect-btn {
  background: linear-gradient(90deg,#ffb300,#ffcc33);
  border: none;
  border-radius: 10px;
  padding: 7px 14px;
  color: #111;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 0 10px rgba(255,215,0,.6);
}
.connect-btn:hover { background: linear-gradient(90deg,#ffcc33,#ffe680); }
.menu-toggle {
  font-size: 26px;
  color: var(--gold);
  cursor: pointer;
}

/* Popup Menu */
.popup-menu {
  position: fixed;
  top: 0; right: -250px;
  width: 250px; height: 100%;
  background: rgba(20,20,20,0.95);
  border-left: 2px solid var(--gold);
  display: flex;
  flex-direction: column;
  justify-content: center;
  transition: 0.4s;
  z-index: 1500;
}
.popup-menu.active { right: 0; }
.popup-menu a {
  color: var(--gold);
  text-decoration: none;
  padding: 14px 20px;
  border-bottom: 1px solid rgba(255,215,0,0.3);
}
.popup-menu a:hover { background: rgba(255,215,0,0.1); }

/* Logo */
.logo {
  width: 90px;
  margin-top: 30px;
  animation: spin 10s linear infinite;
  filter: drop-shadow(0 0 15px rgba(255,215,0,0.8));
}
@keyframes spin { from {transform: rotate(0deg);} to {transform: rotate(360deg);} }

/* Title */
h1 {
  font-size: 1.8em;
  color: var(--gold);
  text-shadow: 0 0 10px rgba(255,215,0,0.6);
  margin-top: 10px;
}
.subtitle {
  color: var(--neon);
  font-size: 0.9em;
  margin-bottom: 15px;
}

/* Farm Panel */
.panel {
  background: rgba(20,20,20,0.85);
  border: 1px solid var(--gold);
  border-radius: 16px;
  padding: 20px;
  margin: 10px auto 90px auto;
  width: 90%;
  max-width: 420px;
  box-shadow: 0 0 15px rgba(255,215,0,0.3);
}
.data-box {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 10px;
}
.box {
  background: rgba(10,10,10,0.7);
  border: 1px solid rgba(255,215,0,0.3);
  border-radius: 10px;
  padding: 8px;
  font-size: 0.9em;
}
.box span {
  color: var(--gold);
  display: block;
  margin-top: 4px;
  font-weight: 600;
}

/* Input + Buttons */
input {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  border-radius: 10px;
  border: 1px solid rgba(255,215,0,0.3);
  text-align: center;
  background: #111;
  color: #fff;
}
.btn-row {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px;
}
button.action {
  background: linear-gradient(90deg,#00ffd5,#00b3a1);
  border: none;
  color: #111;
  font-weight: 700;
  border-radius: 10px;
  padding: 10px 18px;
  cursor: pointer;
}
button.action:hover { opacity: 0.85; }
button.claim {
  background: linear-gradient(90deg,#ffb300,#ffd54f);
}
button.buy {
  background: linear-gradient(90deg,#ffcc33,#ffe680);
}

/* Footer */
footer {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: #111;
  border-top: 1px solid rgba(255,215,0,0.3);
  color: var(--gold);
  padding: 6px 0;
  font-size: 0.85em;
  text-shadow: 0 0 6px var(--gold);
}
</style>
</head>

<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="topbar-left">
      <button class="lang-btn" onclick="toggleLang()">EN</button>
    </div>
    <button class="connect-btn" onclick="connectWallet()">Connect Wallet</button>
    <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>
  </div>

  <!-- Popup Menu -->
  <div id="popupMenu" class="popup-menu">
    <a href="#farm">üåæ Farm</a>
    <a href="#treasury">üí∞ Treasury</a>
    <a href="#whitepaper">üìÑ Whitepaper</a>
    <a href="#community">üí¨ Community</a>
  </div>

  <!-- Logo + Title -->
  <img class="logo" src="data:image/png;base64,{{YOUR_GDSX_LOGO_BASE64}}" alt="GDSX Logo">
  <h1>üåæ GDSX FARM ULTRA++</h1>
  <p class="subtitle">The Future of Digital Gold ‚Äî ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÅ‡∏´‡πà‡∏á‡∏¢‡∏∏‡∏Ñ‡πÉ‡∏´‡∏°‡πà</p>

  <!-- FARM PANEL -->
  <div class="panel" id="farm">
    <div class="data-box">
      <div class="box">Wallet<span id="wallet">-</span></div>
      <div class="box">Total GDSX<span id="treasuryBal">0</span></div>
      <div class="box">Your Stake<span id="stake">0</span></div>
      <div class="box">Pending Rewards<span id="reward">0</span></div>
    </div>

    <input type="number" id="amount" placeholder="Enter amount GDSX">
    <div class="btn-row">
      <button class="action" onclick="deposit()">Deposit</button>
      <button class="action" onclick="withdraw()">Withdraw</button>
      <button class="claim" onclick="claim()">Claim</button>
      <button class="buy" onclick="buyGDSX()">BUY GDSX</button>
      <button class="action" onclick="loadData()">Refresh</button>
    </div>
  </div>

  <footer>Powered by GDSX Finance ¬© 2025</footer>

<script>
const TOKEN = "0xC6EdBBBa4C48a50C9a10EaAaFc99FCb840b5f496";
const STAKING = "0xEc9913d971e43f5b4a0d260381e60595DCb7268e";
const TREASURY = "0xEcd3965A43A5be3773Ab01A42F448576690Ec8e2";

const abiToken = [
  "function approve(address spender,uint256 amount) external returns(bool)",
  "function balanceOf(address) view returns(uint256)",
  "function decimals() view returns(uint8)"
];
const abiStaking = [
  "function deposit(uint256 amount) public",
  "function withdraw(uint256 amount) public",
  "function claim() public",
  "function userInfo(address) view returns(uint256 amount,uint256 rewardDebt)",
  "function pendingReward(address) view returns(uint256)"
];

let provider, signer, account, token, staking;

// === Connect Wallet ===
async function connectWallet(){
  if(!window.ethereum) return alert("‚ö†Ô∏è Please install MetaMask first");
  provider = new ethers.providers.Web3Provider(window.ethereum);
  await provider.send("eth_requestAccounts", []);
  signer = provider.getSigner();
  account = await signer.getAddress();
  document.getElementById("wallet").textContent = account.slice(0,6)+"..."+account.slice(-4);
  token = new ethers.Contract(TOKEN, abiToken, signer);
  staking = new ethers.Contract(STAKING, abiStaking, signer);
  loadData();
}

// === Load Data ===
async function loadData(){
  if(!signer) return;
  try {
    const [info, reward] = await Promise.all([
      staking.userInfo(account),
      staking.pendingReward(account)
    ]);
    const decimals = await token.decimals();
    document.getElementById("stake").textContent = parseFloat(ethers.utils.formatUnits(info.amount, decimals)).toFixed(4);
    document.getElementById("reward").textContent = parseFloat(ethers.utils.formatUnits(reward, decimals)).toFixed(4);
    const treasuryBal = await token.balanceOf(TREASURY);
    document.getElementById("treasuryBal").textContent = parseFloat(ethers.utils.formatUnits(treasuryBal, decimals)).toFixed(2);
  } catch(e){ console.error(e); }
}

// === Actions ===
async function deposit(){
  const val = document.getElementById("amount").value;
  if(!val) return alert("Enter amount to deposit");
  const decimals = await token.decimals();
  const amount = ethers.utils.parseUnits(val, decimals);
  await token.approve(STAKING, amount);
  const tx = await staking.deposit(amount);
  await tx.wait();
  alert("‚úÖ Deposit Success");
  loadData();
}
async function withdraw(){
  const val = document.getElementById("amount").value;
  if(!val) return alert("Enter amount to withdraw");
  const decimals = await token.decimals();
  const amount = ethers.utils.parseUnits(val, decimals);
  const tx = await staking.withdraw(amount);
  await tx.wait();
  alert("üì§ Withdraw Success");
  loadData();
}
async function claim(){
  const tx = await staking.claim();
  await tx.wait();
  alert("üéÅ Claim Success");
  loadData();
}
function buyGDSX(){
  window.open("https://pancakeswap.finance/swap?outputCurrency=0xC6EdBBBa4C48a50C9a10EaAaFc99FCb840b5f496","_blank");
}

// === Menu + Lang ===
function toggleMenu(){ document.getElementById("popupMenu").classList.toggle("active"); }
function toggleLang(){ const b=document.querySelector(".lang-btn"); b.textContent=b.textContent==="EN"?"TH":"EN"; }
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>üåæ DNX FARM ULTRA++</title>
<script src="https://cdn.jsdelivr.net/npm/ethers@6.11.1/dist/ethers.min.js"></script>
<style>
:root{--gold:#ffd700;--neon:#00ffd5}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;overflow-x:hidden;}
body{
  background: radial-gradient(circle at center, #000 40%, #111 100%);
  color:#fff;font-family:"Poppins",sans-serif;text-align:center;
  display:flex;flex-direction:column;align-items:center;
  justify-content:flex-start;min-height:100vh;overflow:hidden;
}
header{
  width:100%;background:linear-gradient(90deg,#111,#222,#111);
  border-bottom:2px solid var(--gold);padding:10px 20px;
  position:fixed;top:0;left:0;z-index:10;
  box-shadow:0 0 20px rgba(255,215,0,.4);
  display:flex;justify-content:space-between;align-items:center;
}
#connectBtn{
  background:linear-gradient(90deg,#ffd700,#ff9d00);
  border:none;color:#000;font-weight:bold;
  padding:10px 25px;border-radius:20px;
  cursor:pointer;animation:glow 2s infinite alternate;
}
@keyframes glow{
  from{box-shadow:0 0 10px rgba(255,215,0,.4);}
  to{box-shadow:0 0 25px rgba(255,215,0,1);}
}
#langToggle{
  background:rgba(0,0,0,.6);border:1px solid var(--gold);
  color:var(--gold);font-weight:bold;padding:8px 15px;
  border-radius:12px;cursor:pointer;
}
h1{margin-top:160px;color:var(--gold);font-size:2em;text-shadow:0 0 30px rgba(255,215,0,.7);}
.card{background:rgba(0,0,0,.7);border:2px solid var(--gold);border-radius:16px;
box-shadow:0 0 30px rgba(255,215,0,.3);padding:25px;width:min(95%,600px);z-index:2;}
.stat{background:rgba(255,255,255,.05);border:1px solid var(--neon);border-radius:10px;padding:10px;margin:5px;}
.stat .label{font-size:14px;opacity:.8}
.stat .value{font-weight:bold;color:var(--gold);}
</style>
</head>
<body>

<header>
  <button id="connectBtn">üîó Connect Wallet</button>
  <button id="langToggle">EN</button>
</header>

<h1>üåæ DNX FARM ULTRA++</h1>

<div class="card">
  <div class="stat"><div class="label">‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤:</div><div id="waddr" class="value">‚Äî</div></div>
  <div class="stat"><div class="label">‡∏¢‡∏≠‡∏î DNX ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</div><div id="bal" class="value">‚Äî</div></div>
  <footer>Powered by <b>DNX Finance</b> ¬© 2025</footer>
</div>

<script>
window.onload = function() {

const CHEF='0xEa13c02F1c69668c2C9f873Fe6fdf44FDD3B0C3C';
const TOKEN='0x7DB860CC9D7f64Ed1B39de6621ebc94440C8dc62';
const ABIchef=[
  "function deposit(uint256) external",
  "function withdraw(uint256) external",
  "function pendingReward(address) view returns(uint256)",
  "function userInfo(address) view returns(uint256 amount,uint256 rewardDebt)"
];
const ABItoken=[
  "function balanceOf(address) view returns(uint256)",
  "function decimals() view returns(uint8)",
  "function allowance(address,address) view returns(uint256)",
  "function approve(address,uint256) returns(bool)"
];

let provider,signer,chef,token,user,dec=18;

async function connect() {
  console.log("üü° ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ MetaMask...");
  if (!window.ethereum) {
    alert("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö MetaMask! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô");
    return;
  }

  try {
    provider = new ethers.BrowserProvider(window.ethereum);
    await provider.send("eth_requestAccounts", []);
    signer = await provider.getSigner();
    user = await signer.getAddress();

    console.log("‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", user);
    $("waddr").textContent = user.slice(0,6) + "..." + user.slice(-4);

    chef = new ethers.Contract(CHEF, ABIchef, signer);
    token = new ethers.Contract(TOKEN, ABItoken, signer);
    dec = await token.decimals();
  } catch (err) {
    console.error("‚ùå ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", err);
    alert("‚ùå " + err.message);
  }
}

const $ = id => document.getElementById(id);
$("connectBtn").addEventListener("click", connect);

};
</script>
</body>
</html>
